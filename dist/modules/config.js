(function(){var configPath,defaultConfig,fs,saveConfig,saveDefaultConfig;fs=require("fs");configPath=global.appDataPath+"/poi-config.json";exports.config=defaultConfig={version:"0.0.3",proxy:{useShadowsocks:true,shadowsocks:{serverIp:"106.186.30.188",serverPort:3118,localPort:8788,method:"aes-256-cfb",password:"MagicaSocks",timeout:6e5},useHttpProxy:false,httpProxy:{httpProxyIp:"127.0.0.1",httpProxyPort:8099},useSocksProxy:false,socksProxy:{socksProxyIp:"127.0.0.1",socksProxyPort:8099}},poi:{listenPort:8787},cache:{useStorage:true,useRadical:true,useCache:false},antiCat:{retryDelay:1e4,retryTime:500}};saveDefaultConfig=function(){return fs.writeFileSync(configPath,JSON.stringify(defaultConfig,null,2))};saveConfig=function(){return fs.writeFileSync(configPath,JSON.stringify(exports.config,null,2))};exports.loadConfig=function(){var err;try{exports.config=JSON.parse(fs.readFileSync(configPath));if(exports.config.version!==defaultConfig.version){throw{err:"version error"}}}catch(_error){err=_error;exports.config=defaultConfig;return saveDefaultConfig()}};exports.updateConfig=function(conf){exports.config=conf;try{saveConfig()}catch(_error){return false}return true}}).call(this);